package hr.main;

import java.util.Scanner;

import hr.dao.EmployeeDAO;
import hr.dao.HistoryDAO;
import hr.dao.ReviewDAO;
import hr.dao.SalaryInfoDAO;
import hr.dao.SalaryPaymentDAO;
import hr.dao.WorkDAO;
import hr.dao.YearDAO;
import hr.vo.EmployeeVO;
import hr.vo.HRSystemVO;

public class HrAdminMain {
	
	private Scanner sc;
	public static String id;
	private EmployeeDAO edao;
	private HistoryDAO hdao;
	private WorkDAO wdao;
	private YearDAO ydao;
	private SalaryInfoDAO sdao;
	private SalaryPaymentDAO spdao;
	private ReviewDAO rdao;
	private HRSystemVO hrsysVO;
	
	public HrAdminMain() {
		hrsysVO = new HRSystemVO();
		sc = new Scanner(System.in);
		edao = new EmployeeDAO();
		hdao = new HistoryDAO();
	}

	public void pmMenu() {
		System.out.println("  â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—");  // 2ì¹¸ì”©
		System.out.println("  â•‘            MENU           â•‘");
		System.out.println("  â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•");
		System.out.println();
		System.out.println("  1. ì§ì› ê´€ë¦¬       2. ê·¼íƒœ ê´€ë¦¬      ");
		System.out.println("  3. ê¸‰ì—¬ ì¡°íšŒ       4. ì¸ì‚¬ê³ ê³¼ ê´€ë¦¬  ");
		System.out.println("  5. ë¹„ë°€ë²ˆí˜¸ ë³€ê²½   6. ì‹œìŠ¤í…œ ì¢…ë£Œ    ");
	    System.out.println();
	    System.out.print("  ğŸ’¡ ì„ íƒ(ìˆ«ì ì…ë ¥) >> ");
	    int num = sc.nextInt();
	    System.out.println();
	    System.out.println("--------------------------------");
	   	System.out.println("    1ë²ˆ ~ 6ë²ˆì„ ì„ íƒí•´ì£¼ì„¸ìš”.   ");
	   	System.out.println("--------------------------------");
	   	
	   	switch(num) {
	   		case 1 : emManage();
	   			break;
	   		case 2 : workManage();
	   			break;
	   		case 3 : 
	   			break;
	   		case 4 : revManage();
	   			break;
	   		case 5 : 
			new HRSystemMain().pwChange(hrsysVO);
	   			break;
	   		case 6 : new HRSystemMain().sysEnd();
	   	
	   	}
	}
	
	
	
	//ì§ì›ê´€ë¦¬ ë©”ë‰´
	public void emManage() {
		System.out.println("  â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—");  // 2ì¹¸ì”©
		System.out.println("  â•‘        ì§ì› ê´€ë¦¬ ë©”ë‰´         â•‘");
		System.out.println("  â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•");
		System.out.println();
		System.out.println("  1. ì§ì› ì •ë³´ ë“±ë¡  2. ì§ì› ì „ì²´ ëª©ë¡");
		System.out.println("  3. íˆìŠ¤í† ë¦¬ ë“±ë¡   4. íˆìŠ¤í† ë¦¬ ëª©ë¡");
		System.out.println("  5. ë©”ì¸ ë©”ë‰´ ");
		System.out.println();
		System.out.print("  ğŸ’¡ ì„ íƒ(ìˆ«ì ì…ë ¥) >> ");
		 
	    int input = sc.nextInt();   //í‚¤ë³´ë“œì—ì„œ ë©”ë‰´ ì„ íƒ ë°›ê¸°
	    HrReadMain hrr = new HrReadMain();
	    
	    
	    switch (input) {
	    case 1:
	    	emWrite();
	    	break;
	    case 2:
	    	hrr.emList();
	    	break;
	    case 3:
	    	historyWrite();
	    	break;
	    case 4:
	    	hrr.hisAllList();
	    	break;
	    case 5:
	    	pmMenu();
	    	break;
	    }
		
		System.out.println();
		System.out.println("--------------------------------");
	   	System.out.println("    1ë²ˆ ~ 5ë²ˆì„ ì„ íƒí•´ì£¼ì„¸ìš”.     ");
	   	System.out.println("--------------------------------");
		
	}
	
	
	//ì§ì› ì •ë³´ ë“±ë¡
	public void emWrite() {
		System.out.println("  â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—");  // 2ì¹¸ì”©
		System.out.println("  â•‘            ì§ì› ì •ë³´ ë“±ë¡             â•‘");
		System.out.println("  â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•‘");
		System.out.println("  â•‘(ì˜ˆì‹œ)                              â•‘");
		System.out.println("  â•‘ìƒë…„ì›”ì¼ >> YY.MM.DD                  â•‘");
		System.out.println("  â•‘ì—°ë½ì²˜ã€€>> 010-0000-0000              â•‘");
		System.out.println("  â•‘ì„±ë³„ >> ì—¬ì„± | ë‚¨ì„±                    â•‘");
		System.out.println("  â•‘ì…ì‚¬ì¼ì >> YY.MM.DD                  â•‘");
		System.out.println("  â•‘ì§ê¸‰ >> ì‚¬ì› | ëŒ€ë¦¬ | ê³¼ì¥ | ë¶€ì¥         â•‘");
		System.out.println("  â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•");
		System.out.println();
		System.out.println("  < ë“±ë¡í•  ì§ì›ì˜ ì •ë³´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”> ");
		
		System.out.println();
		System.out.println("   1. ì§ì›ë²ˆí˜¸ >> ");
		String emid = sc.next();
		
		System.out.println("   2. ì§ì›ì´ë¦„ >> ");
		String name = sc.next();
		
		System.out.println("   3. ìƒë…„ì›”ì¼ >> ");
		String birth = sc.next();
		
		System.out.println("   4. ì—°ë½ì²˜ >> ");
		String tel = sc.next();
		
		System.out.println("   5. ì„±ë³„ >> ");
		String gen = sc.next();
		
		System.out.println("   6. ì£¼ì†Œ >> ");
		String add = sc.next();
		
		System.out.println("   7. ì…ì‚¬ì¼ì >> ");
		String join = sc.next();
		
		System.out.println("   8. ë¶€ì„œ ì´ë¦„ >> ");
		String dname = sc.next();
		
		System.out.println("   9. ì§ê¸‰ >> ");
		String position = sc.next();
		
		System.out.println("  10. í˜¸ë´‰ >> ");
		int hobong = sc.nextInt();

		
		EmployeeVO emvo = new EmployeeVO();
		emvo.setEmid(emid);
		emvo.setName(name);
		emvo.setBirth(birth);
		emvo.setTel(tel);
		emvo.setGen(gen);
		emvo.setAddr(add);
		emvo.setJoin(join);
		emvo.setDname(dname);
		emvo.setPosition(position);
		emvo.setHobong(hobong);
		
		System.out.println();
		
		boolean result = edao.emInsert(emvo);
		if (result == true) {
			System.out.println("----------------------------------");
			System.out.println("      ì…ë ¥í•˜ì‹  ì •ë³´ê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤. ");
			System.out.println("----------------------------------");
			System.out.println("----------------------------------");
			System.out.println("     ì§ì›ê´€ë¦¬ ë©”ë‰´ë¡œ ëŒì•„ê°‘ë‹ˆë‹¤.  ");
		   	System.out.println("----------------------------------");
		} else {
			System.out.println("----------------------------------");
		   	System.out.println("      ì •ë³´ ë“±ë¡ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.  " );
		   	System.out.println("----------------------------------");
		   	System.out.println("----------------------------------");
		   	System.out.println("       ì •ë³´ ë“±ë¡ì´ ì·¨ì†Œë˜ì—ˆìŠµë‹ˆë‹¤.      ");
		   	System.out.println("----------------------------------");
		}
		
		pmMenu();		
	}
	
	
	
	
	// ì§ì› ì •ë³´ ìˆ˜ì •
	public void emModify(String emid) {
		System.out.println("  â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—");  // 2ì¹¸ì”©
		System.out.println("  â•‘         ì§ì› ì •ë³´ ìˆ˜ì •                â•‘");
		System.out.println("  â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•‘");
		System.out.println("  â•‘(ì˜ˆì‹œ)                              â•‘");
		System.out.println("  â•‘ìƒë…„ì›”ì¼ >> YY.MM.DD                  â•‘");
		System.out.println("  â•‘ì—°ë½ì²˜ã€€>> 010-0000-0000              â•‘");
		System.out.println("  â•‘ì„±ë³„ >> ì—¬ì„± | ë‚¨ì„±                    â•‘");
		System.out.println("  â•‘ì…ì‚¬ì¼ì >> YY.MM.DD                  â•‘");
		System.out.println("  â•‘ì§ê¸‰ >> ì‚¬ì› | ëŒ€ë¦¬ | ê³¼ì¥ | ë¶€ì¥         â•‘");
		System.out.println("  â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•");
		System.out.println();
		System.out.println("        < ì •ë³´ë¥¼ ìˆ˜ì •í•˜ì„¸ìš”.>");
		System.out.println();

		System.out.println("   1. ì§ì›ì´ë¦„ >> ");
		String name = sc.next();

		System.out.println("   2. ìƒë…„ì›”ì¼ >> ");
		String birth = sc.next();

		System.out.println("   3. ì—°ë½ì²˜ >> ");
		String tel = sc.next();

		System.out.println("   4. ì„±ë³„ >> ");
		String gen = sc.next();

		System.out.println("   5. ì£¼ì†Œ >> ");
		String addr = sc.next();

		System.out.println("   6. ì…ì‚¬ì¼ì >> ");
		String join = sc.next();

		System.out.println("   7. ë¶€ì„œ ì´ë¦„ >> ");
		String dname = sc.next();

		System.out.println("   8. ì§ê¸‰ >> ");
		String position = sc.next();

		System.out.println("   9. í˜¸ë´‰ >> ");
		int hobong = sc.nextInt();

		System.out.println();
		
		EmployeeVO evo = edao.emSelect(emid);
		evo.setName(name);
		evo.setBirth(birth);
		evo.setTel(tel);
		evo.setGen(gen);
		evo.setAddr(addr);
		evo.setJoin(join);
		evo.setDname(dname);
		evo.setPosition(position);
		evo.setHobong(hobong);
		
		System.out.println();
		
		boolean result = edao.emUpdate(evo);
		if (result == true) {
		System.out.println("--------------------------------");
		System.out.println("        ì •ë³´ê°€ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤.       ");
		System.out.println("--------------------------------");
		System.out.println("--------------------------------");
		System.out.println("     ì§ì›ê´€ë¦¬ ë©”ë‰´ë¡œ ëŒì•„ê°‘ë‹ˆë‹¤.      ");
	   	System.out.println("--------------------------------");
		} else {
	   	System.out.println("--------------------------------");
	   	System.out.println("         ìˆ˜ì •ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.       ");
	   	System.out.println("--------------------------------");
	   	System.out.println("--------------------------------");
		System.out.println("     ì§ì›ê´€ë¦¬ ë©”ë‰´ë¡œ ëŒì•„ê°‘ë‹ˆë‹¤.      ");
	   	System.out.println("--------------------------------");
	   	}
		
	   	System.out.println();
	   	pmMenu();
	}

	
	
	
	
	public void emRemove(String emid) {
		System.out.println("  â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—");  // 2ì¹¸ì”©
		System.out.println("  â•‘       ì§ì› ì •ë³´ ì‚­ì œ          â•‘");
		System.out.println("  â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•");
		System.out.println();
		System.out.println(" < ì‚­ì œí•˜ë ¤ë©´ Yë¥¼ ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ Nì„ ì…ë ¥í•´ì£¼ì„¸ìš” >");
		System.out.println();
		System.out.print("  ğŸ’¡ ì…ë ¥ >> ");
		
		String input = sc.next();
		if(input.equalsIgnoreCase("Y")) { 	// Yë¥¼ ì„ íƒí–ˆì„ ë•Œ delete ì‹¤í–‰
			if(edao.emDelete(emid)) {		// delete ì‹¤í–‰ í›„ true ë°˜í™˜ ì‹œ ì™„ë£Œ ë©”ì‹œì§€ ì¶œë ¥ í›„ ë©”ì¸ ë©”ë‰´ë¡œ ëŒì•„ê°
				System.out.println();
				System.out.println("--------------------------------");
				System.out.println("           ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.          ");
				System.out.println("--------------------------------");
				emManage();
			} else {				// false ë°˜í™˜ ì‹œ ì‹¤íŒ¨ ë©”ì‹œì§€ ì¶œë ¥ í›„ ë‹¤ì‹œ ì‚­ì œ í™”ë©´ ì¶œë ¥
				System.out.println();
				System.out.println("--------------------------------");
			   	System.out.println("         ì‚­ì œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.          ");
			   	System.out.println("--------------------------------");
			   	emRemove(emid);
			}
		} else if (input.equalsIgnoreCase("N")) {	// Nì„ ì„ íƒí–ˆì„ ë•Œ ì·¨ì†Œ ë©”ì‹œì§€ ì¶œë ¥ í›„ ë©”ì¸ ë©”ë‰´ë¡œ ëŒì•„ê°
		   	System.out.println();
		   	System.out.println("--------------------------------");
		   	System.out.println("           ì·¨ì†Œë˜ì—ˆìŠµë‹ˆë‹¤.          ");
		   	System.out.println("--------------------------------");
		   	emManage();
		} else {					// Yë‚˜ Nì„ ì…ë ¥í•˜ì§€ ì•Šì€ ê²½ìš° ë‹¤ì‹œ ì‚­ì œ í™”ë©´ ì¶œë ¥
		   	System.out.println();
		   	System.out.println("--------------------------------");
		   	System.out.println("         Yë‚˜ Nì„ ì…ë ¥í•´ì£¼ì„¸ìš”          ");
		   	System.out.println("--------------------------------");	
			emRemove(emid);
		}
			
	}
	
